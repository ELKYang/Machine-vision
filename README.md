机器视觉基础 - 多目标追踪
=====
------
算法描述
------
- 此跟踪算法使用二值图像背景减法的为模型的背景更新方法 ,用连通区检测算法结合形态学上膨胀与腐蚀组合操作分割出前景目标 ,以二阶Kalman滤波器作为运动模型实现对运动目标的预测与跟踪，然后使用匈牙利匹配算法进行运动目标的精确定位跟踪。  
![](https://s2.ax1x.com/2019/07/04/ZU9iEF.png "目标检测与跟踪处理流程")
  **1. 背景模型建立**  
对视频中的每一帧进行图像二值化后，再进行形态学的腐蚀与膨胀组合操作，得到前景点集，提取前景点集中连通区域的中心点和外界矩形框。
注：测试使用自适应的高斯背景建模的方法进行背景建模时，发现当目标静止时，出现了前景空洞的情况，导致背景建模失败，并且时间消耗大，所以放弃使用混合高斯背景建模的方法，采用基本的二值图像的背景减法进行处理，发现效果较前者好  
  **2. 目标跟踪**  
  采用二阶kalman滤波器作为目标的运动模型 ，预测运动目标的位置.在对预测后的运动目标和前景目标进行匹配时 ，利用匈牙利匹配算法来精确定位目标的位置 。设置阈值条件，当某一轨迹中连续数帧出现超出指定阈值范围的情况时，定义为遮挡（此实根据目标目标预测的结果进行轨迹跟踪），或目标消失（此时删除轨迹），或出现新目标（此时创建新轨迹），并对当前的前景区域做轨迹再分配，以确保跟踪准确。
------
结果分析
------
   **1.算法适用性**  
   此算法未针对此视频做特定的简化处理，所以算法具有普适性，可以完成其他情况下的动态多目标标定任务，比如车流交通中行人的标注于跟踪等，但需要针对不同实验对算法中涉及的参数做一定的修改与调试，以确保跟踪效果较好。 
     
   **2.算法准确率**  
   算法采用基于二值图像进行背景减除，采用二阶卡尔曼滤波进行跟踪，最后采用匈牙利匹配算法精确定位目标位置。由于卡尔曼滤波是根据当前位置采用最小方差进行下一位置预测的，所以在处理交叉情况时，交叉后的位置完全由卡尔曼滤波器进行预测跟踪，并且设定阈值条件，以处理目标相互遮挡及目标消失及重新出现等问题，经反复调参实验后，可以准确的在小鼠交叉的时候跟踪小鼠，并且对交叉时的边界框用’predicted’字样标注。  
     
   **3.算法效率**  
   经记录，整个处理过程共10分40秒，共处理436帧图片。所以算法效率为0.68125帧每秒。由于使用二阶卡尔曼滤波器进行预测跟踪，导致整个算法的时间复杂度较高，但跟踪非常准确。  
